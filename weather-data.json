{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Weather data of Australia on a map",
    "width": "container",
    "height": "container",
    "data": {
        "url": "filtered-data/world-map.geojson",
        "format": {
            "type": "json",
            "property": "features"
        }
    },
    "projection": {
        "type": "mercator",
        "center": [134, -28],
        "scale": 1100
    },
    "layer": [
        {
            "mark": {"type": "geoshape", "fill": "#eee", "stroke": "#aaa"}
        },
        {
            "data": {"url": "filtered-data/geocoded-weather-test-data.csv"},
            "mark": "circle",
            "transform": [
                {
                    "calculate": "{'type': 'Point', 'coordinates': [datum.longitude, datum.latitude]}",
                    "as": "geojson"
                }
            ],
            "encoding": {
                "longitude": {"field": "longitude", "type": "quantitative"},
                "latitude": {"field": "latitude", "type": "quantitative"},
                "color": {"field": "MinTemp", "type": "quantitative"},
                "size": {"value": 50}
            }
        }
    ]
}